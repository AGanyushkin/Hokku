
application - event based, 

Определение событий

    1. Hokku.def ?
    
    2. const {def} = new Hokku() ?

Hook - ловушка для эвентов
    хук получает евент 
        { type: 'DO_SOMETHING', payload: null }
        
    Hokku может помещать в объект события служебные поля. например как "key" для событий поражденных в http модуле
        для того чтобы можно было отслеживать сессии
        
    { type: 'DO_SOMETHING', payload: null, key: 'uniq-http-request-key' }

    хуки можно обрабатывать двумя способами
        1. как callback

            hook('DO_SOMETHING', e => console.log(JSON.stringify(e)))
            
        2. как RxJS поток
            
            hook('DO_SOMETHING')
                .subscribe(e => console.log(JSON.stringify(e)))

    вотчеры хуков можно задавать 
    
        1. строкой
            
            hook('DO_SOMETHING', e => console.log(JSON.stringify(e)))
            
        2. экшн криэйтором любого из двух типов
        
            const doSomething = Hokku.def('DO_SOMETHING')
            hook(doSomething, e => console.log(JSON.stringify(e)))
            
        2. списком строк и/или экшн криэйторов любого из двух типов
        
            const doSomething = Hokku.def('DO_SOMETHING')
            hook([doSomething, 'ACTION_2'], e => console.log(JSON.stringify(e)))
            
            для хука с келбэком - будет вызываться келлбэк
            для хука с RxJS - все потоки событий на которые вешается хук будут смержены в обдин на выходе

Container - штука, куда помещаются хуки. приложение может состоять из многих контейнеров.
    контейнер имеет уникальный в рамках приложения идентификатор.
    контейнер соеденены каждый с каждым в рамках приложения
    контейнер создается так
    
        const hookContainer = new Hokku(otpions)

        контейнер содержит в себе хуки.
        
Application - это набор контейнеров. Контейнеры связанны между собой общим пространством распространения событий.
    Иммет уникальный идентификатор, понтейнеры проверяют его перед 
        
EventField - общее пространством распространения событий. оно одно на application.

(!) в EventField может быть несколько хуков одного и того-же события.
    Все хуки приложения будут вызваны при возникновении события.
    т.е. это значит что любое событие поражденное в контейнера A может быть обработанно/перехвачено в контейнере B 
        или в любом другом контейнере сколько угодно раз.

ContainerDiscovery - контейнеры находят друг друга и связываются сами, без дополнительной конфигурации.
    Это работает в одноранговых сетях или с разрешенными udp broadcast сообщениями между сетями.
    
SmartSwitch - протокол обмена сообщениями между контейнерами. Поддерживает:
    1. передачу всех сообщений между всеми контейнерами
    2. исключение контейнера из списка рассылки сообщения если контейнер назначения не обрабатывает событие.
    3. ограничения в передачи событий между контейнерами (security)
    4. блокировка контейнера, который нарушает InternalSecurityPolicy
    
InternalSecurityPolicy - 
    ограничение на получение и отправку событий.
    
    1. Список разрешенных для отправки событий
        если A --(E1)--> B то B проверяет разрешено ли A отправлять событие E1
        
    2. Список разрешенных для получения событий
        если D --(E1)--> K то D проверяет разрешено ли K получать событие E1
    
LoadBalancing & DoS prevention

